(function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],r=!0,s=1;s<o.length;s++){var l=o[s];0!==n[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var r={},n={app:0},i=[];function a(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=r,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-minesweeper/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"04d6":function(e,t,o){"use strict";o("9b2c")},"4ac9":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("7a23"),n={class:"w-screen h-screen bg-gradient-to-br from-blue-200 to-green-300 overflow-auto"},i={class:"flex flex-row h-full flex-grow bg-pattern"},a={class:"m-auto"};function s(e,t,o,s,l,c){var d=Object(r["j"])("options"),u=Object(r["j"])("board"),h=Object(r["j"])("scoreboard");return Object(r["h"])(),Object(r["d"])("div",n,[Object(r["g"])("div",i,[Object(r["g"])(d,{"game-in-progress":e.gameInProgress,options:e.options,"saved-games":e.savedGames,onStartGame:t[1]||(t[1]=function(e){return c.startGame()}),onSaveGame:c.saveGame,onLoadGame:c.loadGame,zoom:e.zoom,"onUpdate:zoom":t[2]||(t[2]=function(t){return e.zoom=t}),"chosen-option":e.chosenOption,"onUpdate:chosen-option":t[3]||(t[3]=function(t){return e.chosenOption=t})},null,8,["game-in-progress","options","saved-games","onSaveGame","onLoadGame","zoom","chosen-option"]),Object(r["g"])("div",a,[Object(r["g"])(u,{result:e.result,onReveal:c.handleReveal,onMark:c.handleMark,zoom:e.zoom,fields:e.fields,size:e.size,bombs:10},null,8,["result","onReveal","onMark","zoom","fields","size"])])]),Object(r["g"])(h,{result:e.result,bombs:e.bombsLeft,time:e.timer.value},null,8,["result","bombs","time"])])}var l=o("3835"),c=o("b85c");o("caad"),o("2532"),o("99af"),o("c740");function d(e,t,o,n,i,a){var s=Object(r["j"])("board-field");return Object(r["h"])(),Object(r["d"])("div",{class:"p-8 m-auto overflow-auto transform transition",style:[{"transform-origin":"0 0"},{transform:"scale(".concat(o.zoom/100,")")}]},[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["i"])(o.fields,(function(t,n){return Object(r["h"])(),Object(r["d"])("div",{class:"flex flex-row",key:"r".concat(t,"y").concat(n)},[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["i"])(t,(function(t,i){return Object(r["h"])(),Object(r["d"])(s,{class:a.checkCorner(i,n),key:"f".concat(t,"y").concat(i),result:o.result,onReveal:function(t){return e.$emit("reveal",{x:i,y:n})},onMark:function(t){return e.$emit("mark",{x:i,y:n})},field:t},null,8,["class","result","onReveal","onMark","field"])})),128))])})),128))],4)}o("a9e3");var u={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"1em",height:"1em"},h=Object(r["g"])("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z","clip-rule":"evenodd"},null,-1),b={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"1em",height:"1em"},f=Object(r["g"])("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.536 5.879a1 1 0 001.415 0 3 3 0 014.242 0 1 1 0 001.415-1.415 5 5 0 00-7.072 0 1 1 0 000 1.415z","clip-rule":"evenodd"},null,-1),m={key:2};function g(e,t,o,n,i,a){return Object(r["h"])(),Object(r["d"])("button",{disabled:o.field.revealed||o.result.length>0,onClick:t[1]||(t[1]=function(t){return e.$emit("reveal")}),onContextmenu:t[2]||(t[2]=function(){return a.mark&&a.mark.apply(a,arguments)}),class:["w-8 h-8 flex cursor-pointer shadowy focus:outline-none flex justify-center items-center font-bold flex-shrink-0",{"bg-blue-300":o.field.revealed&&o.field.value>-1,"bg-red-600":o.field.revealed&&-1===o.field.value,"bg-blue-400 hover:bg-blue-500 focus:bg-blue-500 ":!o.field.revealed}]},[o.field.marked&&!o.field.revealed?(Object(r["h"])(),Object(r["d"])("svg",u,[h])):o.field.revealed&&-1===o.field.value?(Object(r["h"])(),Object(r["d"])("svg",b,[f])):(Object(r["h"])(),Object(r["d"])("span",m,Object(r["k"])(o.field.revealed&&o.field.value>0?o.field.value:""),1))],42,["disabled"])}var v=o("d4ec"),p=o("bee2"),O=o("ade3"),j=function(){function e(t){Object(v["a"])(this,e),Object(O["a"])(this,"type",void 0),Object(O["a"])(this,"value",void 0),Object(O["a"])(this,"revealed",void 0),Object(O["a"])(this,"marked",void 0),this.type=t,this.value=t===w.NORMAL?0:-1,this.revealed=!1,this.marked=!1}return Object(p["a"])(e,[{key:"reset",value:function(){this.revealed=!1,this.marked=!1}}]),e}(),w={NORMAL:"normal",BOMB:"bomb"},y={props:{field:j,result:String},data:function(){return{}},methods:{mark:function(e){e.preventDefault(),this.$emit("mark")}}};o("04d6");y.render=g;var x=y,k={components:{BoardField:x},emits:["reveal","mark"],props:{size:{width:Number,height:Number},bombs:Number,zoom:Number,fields:Array,result:String},methods:{checkCorner:function(e,t){return 0===e&&0===t?"rounded-tl":0===e&&t===this.size.height-1?"rounded-bl":e===this.size.width-1&&0===t?"rounded-tr":e===this.size.width-1&&t===this.size.height-1?"rounded-br":""}}};k.render=d;var z=k,M={key:0,class:"fixed right-0 h-full w-40 p-2 flex flex-col bg-white bg-opacity-50 backdrop-blur text-gray-700 z-10"},S=Object(r["g"])("div",{class:"font-bold mb-1 text-center"},"Zoom",-1),I={class:"flex flex-row justify-around items-center"},L=Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"1em",height:"1em"},[Object(r["g"])("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"}),Object(r["g"])("path",{"fill-rule":"evenodd",d:"M5 8a1 1 0 011-1h4a1 1 0 110 2H6a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),G={class:"text-sm"},C=Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"1em",height:"1em"},[Object(r["g"])("path",{d:"M5 8a1 1 0 011-1h1V6a1 1 0 012 0v1h1a1 1 0 110 2H9v1a1 1 0 11-2 0V9H6a1 1 0 01-1-1z"}),Object(r["g"])("path",{"fill-rule":"evenodd",d:"M2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8zm6-4a4 4 0 100 8 4 4 0 000-8z","clip-rule":"evenodd"})],-1),N=Object(r["g"])("div",{class:"font-bold mb-1 text-center"},"Choose size",-1),B={class:"flex flex-col text-sm space-y-1 mb-2"},P=Object(r["g"])("div",{class:"font-bold mb-1 text-center"},"Saved Games",-1),A={class:"flex flex-col text-sm space-y-1 mb-2 overflow-auto"},R={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"1em",height:"1em"},T=Object(r["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),$={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"1em",height:"1em"},D=Object(r["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},null,-1),F=Object(r["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1);function J(e,t,o,n,i,a){return Object(r["h"])(),Object(r["d"])(r["a"],null,[Object(r["g"])(r["b"],{"enter-active-class":"transition-all transform","leave-active-class":"transition-all transform","enter-from-class":"translate-x-40","enter-to-class":"translate-x-0","leave-from-class":"translate-x-0","leave-to-class":"translate-x-40"},{default:Object(r["l"])((function(){return[e.menuOpen?(Object(r["h"])(),Object(r["d"])("div",M,[S,Object(r["g"])("div",I,[Object(r["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("update:zoom",Math.max(o.zoom-10,0))}),class:"p-1 rounded-full hover:bg-gray-500 hover:bg-opacity-25 focus:outline-none focus:ring"},[L]),Object(r["g"])("div",G,Object(r["k"])(o.zoom)+"%",1),Object(r["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.$emit("update:zoom",o.zoom+10)}),class:"p-1 rounded-full hover:bg-gray-500 hover:bg-opacity-25 focus:outline-none focus:ring"},[C])]),N,Object(r["g"])("div",B,[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["i"])(o.options,(function(t,n){return Object(r["h"])(),Object(r["d"])("button",{key:t.width,class:["px-2 py-1 focus:outline-none rounded text-xs transition-colors duration-75 focus:ring",o.chosenOption===n?"bg-gray-500 bg-opacity-40":"hover:bg-gray-500 hover:bg-opacity-25"],onClick:function(t){return e.$emit("update:chosen-option",n)}},Object(r["k"])(t.width)+"x"+Object(r["k"])(t.height)+" ("+Object(r["k"])(t.bombs)+") ",11,["onClick"])})),128))]),Object(r["g"])("button",{onClick:t[3]||(t[3]=function(t){return e.$emit("start-game")}),class:"px-2 py-1 border-2 border-gray-700 shadow-lg rounded font-bold mb-1 focus:outline-none focus:ring hover:bg-black hover:bg-opacity-10"}," New game "),Object(r["g"])("button",{class:[o.gameInProgress&&"hover:bg-black hover:bg-opacity-10","px-2 py-1 border-2 border-gray-700 shadow-lg rounded font-bold mb-1 focus:outline-none focus:ring  disabled:opacity-50"],disabled:!o.gameInProgress,onClick:t[4]||(t[4]=function(t){return e.$emit("save-game")})}," Save ",10,["disabled"]),P,Object(r["g"])("div",A,[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["i"])(a.formattedSavedGames,(function(t){return Object(r["h"])(),Object(r["d"])("button",{key:t.id,onClick:function(o){return e.$emit("load-game",t.id)},class:"px-2 py-1 focus:outline-none rounded text-xs transition-colors duration-75 focus:ring hover:bg-gray-500 hover:bg-opacity-25"},Object(r["k"])(t.title),9,["onClick"])})),128))])])):Object(r["e"])("",!0)]})),_:1}),Object(r["g"])("button",{class:[e.menuOpen&&"-rotate-90 -translate-x-40","fixed top-4 right-4 bg-white bg-opacity-50 backdrop-blur  hover:bg-opacity-70 transition-transform text-gray-700 transform  focus:outline-none focus:ring w-8 h-8 rounded-full flex justify-center items-center text-xl z-10"],onClick:t[5]||(t[5]=function(t){return e.menuOpen=!e.menuOpen})},[e.menuOpen?(Object(r["h"])(),Object(r["d"])("svg",R,[T])):(Object(r["h"])(),Object(r["d"])("svg",$,[D,F]))],2)],64)}o("d81d"),o("fb6a");var _={props:{gameInProgress:Boolean,zoom:Number,options:Array,chosenOption:Number,savedGames:Array},emits:["start-game","save-game","load-game","update:zoom","update:chosen-option"],computed:{formattedSavedGames:function(){return this.savedGames.map((function(e){var t=parseInt(e.slice(5));console.log(e),console.log(t);var o=new Date(t);return console.log(o),{id:e,title:"".concat(o.toLocaleDateString()," ").concat(o.toLocaleTimeString())}}))}},data:function(){return{menuOpen:!0}}};_.render=J;var H=_,V=Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"1em",height:"1em"},[Object(r["g"])("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z","clip-rule":"evenodd"})],-1),U={class:"ml-2"},Y=Object(r["g"])("div",{class:"ml-4 mr-4 w-0.5 float-none bg-gray-700 rounded-full"},Object(r["k"])("Â "),-1),Z=Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"1em",height:"1em"},[Object(r["g"])("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1),q={class:"ml-2"};function E(e,t,o,n,i,a){return Object(r["h"])(),Object(r["d"])("div",{class:["fixed top-4 left-1/2 transform -translate-x-1/2 px-4 py-2 backdrop-blur rounded bg-white bg-opacity-75 flex flex-row justify-center items-center font-bold uppercase text-gray-700",{"bg-red-500":"lose"===o.result,"bg-green-500":"win"===o.result}]},[o.result.length?(Object(r["h"])(),Object(r["d"])(r["a"],{key:0},[Object(r["f"])(Object(r["k"])("win"===o.result?"You won!":"You lost!"),1)],64)):(Object(r["h"])(),Object(r["d"])(r["a"],{key:1},[V,Object(r["g"])("div",U,Object(r["k"])(o.bombs),1)],64)),Y,Z,Object(r["g"])("span",q,Object(r["k"])(a.formattedTime),1)],2)}o("4d90");var K={props:{bombs:Number,result:String,time:{type:Number,default:0}},computed:{formattedTime:function(){return"".concat(Math.floor(this.time/60),":")+"".concat(Math.floor(this.time%60)).padStart(2,"0")}}};K.render=E;var Q=K,W={components:{Scoreboard:Q,Board:z,Options:H},data:function(){return{options:[{width:9,height:9,bombs:10},{width:16,height:16,bombs:40},{width:30,height:16,bombs:99}],chosenOption:0,size:void 0,zoom:100,gameInProgress:!1,result:"",fields:[],bombsLeft:0,fieldsLeft:0,timer:{interval:void 0,start:void 0,value:0},gameId:"",savedGames:[]}},created:function(){this.size=this.options[0],this.savedGames=JSON.parse(localStorage.getItem("saved-games-list"))||[]},methods:{startGame:function(){this.size=this.options[this.chosenOption],this.calcFields(),this.startTime(),this.gameId="game-".concat(Date.now()),this.gameInProgress=!0},saveGame:function(){var e;if(console.log(this.gameId),this.savedGames.includes(this.gameId))e=JSON.parse(localStorage.getItem(this.gameId)),console.log(e.createdOn),console.log(e.lastSavedOn),console.log(e);else{var t=JSON.parse(localStorage.getItem("saved-games-list"))||[];localStorage.setItem("saved-games-list",JSON.stringify(t.concat(this.gameId))),this.savedGames.push(this.gameId),e={},e.createdOn=new Date}e.fields=this.fields,e.fieldsLeft=this.fieldsLeft,e.bombsLeft=this.bombsLeft,e.size=this.size,e.time=this.timer.value,e.gameId=this.gameId,e.lastSavedOn=new Date,localStorage.setItem(this.gameId,JSON.stringify(e))},loadGame:function(e){var t=JSON.parse(localStorage.getItem(e));this.fields=t.fields,this.size=t.size,this.fieldsLeft=t.fieldsLeft,this.bombsLeft=t.bombsLeft,this.startTime(),this.timer.value=t.time,this.timer.start=this.timer.start-1e3*t.time,this.gameId=t.gameId,this.gameInProgress=!0,this.result=""},endGame:function(e){this.stopTime(),this.result=e,this.gameInProgress=!1},startTime:function(){var e=this;clearInterval(this.timer.interval),this.timer.value=0,this.timer.start=Date.now(),this.timer.interval=setInterval((function(){var t=Date.now();e.timer.value=(t-e.timer.start)/1e3}),1e3)},stopTime:function(){clearInterval(this.timer.interval)},getField:function(e,t){return e>=0&&e<this.size.width&&t>=0&&t<this.size.height?this.fields[t][e]:null},calcFields:function(){var e=this,t=[],o=function(){var o=Math.floor(Math.random()*e.size.width),r=Math.floor(Math.random()*e.size.height);-1===t.findIndex((function(e){return e.x===o&&e.y===r}))&&t.push({x:o,y:r})};while(t.length<this.size.bombs)o();for(var r=[],n=0;n<this.size.height;n++){r.push([]);for(var i=0;i<this.size.width;i++)r[n].push(new j(w.NORMAL))}this.fields=r;for(var a=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],s=0,d=t;s<d.length;s++){var u=d[s],h=u.x,b=u.y;r[b][h]=new j(w.BOMB);var f,m=Object(c["a"])(a);try{for(m.s();!(f=m.n()).done;){var g=Object(l["a"])(f.value,2),v=g[0],p=g[1],O=this.getField(h+v,b+p);O&&O.type===w.NORMAL&&O.value++}}catch(y){m.e(y)}finally{m.f()}}this.fieldsLeft=this.size.width*this.size.height-this.size.bombs,this.bombsLeft=this.size.bombs,this.result=""},handleReveal:function(e){var t=e.x,o=e.y;this.reveal(this.getField(t,o),t,o)},reveal:function(e,t,o){if(e.revealed=!0,e.type===w.BOMB)this.endGame("lose");else{if(0===e.value)for(var r=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],n=0,i=r;n<i.length;n++){var a=Object(l["a"])(i[n],2),s=a[0],c=a[1],d=this.getField(t+s,o+c);d&&d.type===w.NORMAL&&!d.revealed&&this.reveal(d,t+s,o+c)}e.value>-1&&this.fieldsLeft--,0===this.fieldsLeft&&this.endGame("win")}},handleMark:function(e){var t=e.x,o=e.y,r=this.getField(t,o);r.marked?this.bombsLeft++:this.bombsLeft--,r.marked=!r.marked}}};o("5c0d");W.render=s;var X=W;o("9c9e"),o("fc65");Object(r["c"])(X).mount("#app")},"5c0d":function(e,t,o){"use strict";o("4ac9")},"9b2c":function(e,t,o){},"9c9e":function(e,t,o){},fc65:function(e,t,o){}});
//# sourceMappingURL=app.1a8b4ec6.js.map